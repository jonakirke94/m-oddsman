<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>

	<link href="/styles/style.css" rel="stylesheet" type="text/css">

</head>

<body>

	<div class="max-w-screen-sm flex flex-col justify-between h-screen bg-gray-200">

		<div class="bg-gray-50 flex items-center px-1.5 py-1">
			<div class="flex items-center">
				<h1 class=" font-bold text-2xl leading-9 uppercase text-gray-800 tracking-tight">Stilling </h1>
				<!--<%= meta.isSprintWeek %>-->
				<i class="mx-2">â€¢</i>
				<span class="leading-3 text-base font-semibold">
					UGE <%= meta.currentWeek %></span>
			</div>
			<%if (meta.isSprintWeek) { %>
				<div class="rounded-md bg-green-200 text-green-900 px-2 py-0.5 ml-auto">Sprintuge</div>
				<% } %>
		</div>

		<div class="overflow-y-auto">

			<table class="w-full relative">
				<thead>
					<tr class="py-4 mx-2 ">
						<th class="bg-gray-200 py-1.5 font-semibold z-10 sticky top-0 uppercase text-base w-10">
							<a href="/">
								#
							   </a>
						</th>
						<th class="bg-gray-200 font-semibold z-10 sticky top-0 uppercase text-xs text-left">
							<a href="/?sort=name">
								Deltager
							   </a>
						</th>
						<th class="bg-gray-200 font-semibold z-10 sticky top-0 uppercase text-xs w-14 text-right pr-2">
							<a href="/?sort=correct">
								Tips
							   </a></th>
						<th class="bg-gray-200 font-semibold z-10 sticky top-0 uppercase text-xs w-16 text-right pr-2">
							<a href="/?sort=week">
								 Uge <%=meta.currentWeek %>
								</a>
						</th>
						<th class="bg-gray-200 font-semibold z-10 sticky top-0 uppercase text-xs w-14 text-right pr-2">
							<a href="/">
								Points
							   </a></th>
					</tr>
				</thead>

				<tbody>
					<!--					<tr><td>test</td></tr>
-->
					<% data.forEach(function(user, index){ %>
						<tr
							class="py-4 px-2 border-b w-full <%= user.isLeadingSprint ? 'bg-green-200' : index & 1 ? 'bg-gray-50' : 'bg-gray-100' %>">
							<td class="py-1 flex justify-center w-10">
								<div class="h-8 w-8 flex justify-center items-center rounded-md <%= (user.position < 4) ? 'bg-green-600' : 'bg-gray-800' %>
								 >">
									<span class="text-white text-xs font-semibold">
										<%= user.position %>.
									</span>

								</div>
							</td>
							<td>
								<div class="flex flex-col ">
									<span class="truncate w-44">
										<%= user.name %>
									</span>
								</div>

							</td>

							<td class="w-14  text-right pr-2">
								<span class="text-xs">
									<%= user.correctBets %>/<%= user.betCount %>
								</span>

							</td>

							<td class="w-16 text-xs font-semibold text-right pr-2">
								<%if (Number(user.pointsInCurrentWeek)> 0) { %>
									<%= user.pointsInCurrentWeek.toLocaleString('da-DK', { minimumIntegerDigits: 1,
										minimumFractionDigits: 2 }) %>
										<% } else{ %>
											-
											<% } %>
							</td>


							<td class="w-14 text-xs font-semibold text-right pr-2">
								<%= user.points.toLocaleString('da-DK', { minimumIntegerDigits: 2,
									minimumFractionDigits: 2 }) %>
							</td>

						</tr>
						<% }); %>
				</tbody>
			</table>

		</div>

		<%- include('../partials/footer', { active: 'score' }); %>
	</div>
</body>

</html>